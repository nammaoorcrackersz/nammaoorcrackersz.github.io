(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{5459:function(e,a,s){Promise.resolve().then(s.bind(s,5352))},5352:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return v}});var r=s(7437),l=s(605),n=s(2265),d=s(1907),t=s(2543),c=s(6549),i=s(9864),o=s(2434),h=s(8217),u=s(4016),x=s(8805),m=s(1444),j=s(150),p=s(6463);function v(){let{cartList:e,cartMap:a,subTotal:s,total:v,shippingCost:b}=(0,l.Z)(),f=(0,n.useRef)(),N=(0,m.I0)(),g=(0,p.useRouter)(),[Z,y]=(0,n.useState)(""),[k,E]=(0,n.useState)(""),[C,_]=(0,n.useState)(""),[A,S]=(0,n.useState)(""),[O,w]=(0,n.useState)(""),[P,q]=(0,n.useState)({});(0,n.useEffect)(()=>{(!e||e.length<=0)&&g.back()},[e,g]);let T=(e,a)=>{switch(a){case"name":y(e.target.value),q(e=>({...e,name:!1}));break;case"email":E(e.target.value),q(e=>({...e,email:!1}));break;case"note":w(e.target.value);break;case"address":_(e.target.value),q(e=>({...e,address:!1}));break;case"phone":S(e.target.value),q(e=>({...e,phone:!1}))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"breadcrumb-section breadcrumb-bg",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-8 offset-lg-2 text-center",children:(0,r.jsx)("div",{className:"breadcrumb-text",children:(0,r.jsx)("h1",{children:"Checkout"})})})})})}),(0,r.jsx)("div",{className:"checkout-section mt-150 mb-150",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-lg-6",children:[(0,r.jsx)("div",{className:"checkout-accordion-wrap",children:(0,r.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,r.jsxs)("div",{className:"card single-accordion",children:[(0,r.jsx)("div",{className:"card-header",id:"headingOne",children:(0,r.jsx)("h5",{className:"mb-0",children:(0,r.jsx)("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Billing Address"})})}),(0,r.jsx)("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)("div",{className:"billing-address-form",children:(0,r.jsxs)(t.Z,{children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(i.Z,{for:"name",children:"Name"}),(0,r.jsx)(o.Z,{type:"text",placeholder:"Name",value:Z,invalid:P.name,onChange:e=>T(e,"name")}),(0,r.jsx)(h.Z,{children:"Enter your name"})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(i.Z,{for:"exampleEmail",children:"Email"}),(0,r.jsx)(o.Z,{type:"email",placeholder:"Email",value:k,invalid:P.email,onChange:e=>T(e,"email")}),(0,r.jsx)(h.Z,{children:"Enter a valid email"})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(i.Z,{for:"exampleEmail",children:"Address"}),(0,r.jsx)(o.Z,{type:"textarea",placeholder:"Address",value:C,invalid:P.address,onChange:e=>T(e,"address")}),(0,r.jsx)(h.Z,{children:"Enter your address"})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(i.Z,{for:"exampleEmail",children:"Phone"}),(0,r.jsx)(o.Z,{type:"tel",placeholder:"Phone",value:A,invalid:P.phone,onChange:e=>T(e,"phone")}),(0,r.jsx)(h.Z,{children:"Enter valid phone number"})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(i.Z,{for:"exampleEmail",children:"Note"}),(0,r.jsx)(o.Z,{type:"textarea",placeholder:"Note",value:O,onChange:e=>T(e,"note")}),(0,r.jsx)(h.Z,{children:"Enter your address"})]})]})})})})]})})}),(0,r.jsx)(d.Z,{ref:f,sitekey:"6LdpDUUqAAAAACOKeN6BcSEzrdGJoRF83JWuuopU"}),(0,r.jsx)(u.Z,{onClick:()=>{let s;if(f.current&&(s=f.current.getValue()),!s){alert("Please verify the reCAPTCHA!");return}let r={};if(Z||(r.name=!0),C||(r.address=!0),(!A||A.length<10)&&(r.phone=!0),k&&!x.s.test(k)&&(r.email=!0),Object.keys(r).length>0){q(r);return}let l={name:Z,email:k,address:C,phone:A,note:O,products:e.map(e=>{var s;return{_id:e._id,qty:null===(s=a[e._id])||void 0===s?void 0:s.qty}}),captchaValue:s};N((0,j.fc)(l))},className:"mt-3 me-3",children:"Place Order"}),(0,r.jsx)(u.Z,{secondary:!0,onClick:()=>g.back(),className:"mt-3",children:"Back"})]}),(0,r.jsx)("div",{className:"col-lg-6",children:(0,r.jsx)("div",{className:"order-details-wrap",children:(0,r.jsxs)("table",{className:"order-details",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Your order Details"}),(0,r.jsx)("th",{children:"Qty"}),(0,r.jsx)("th",{children:"Price"})]})}),(0,r.jsx)("tbody",{className:"order-details-body",children:e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:a[e._id].qty}),(0,r.jsx)("td",{children:a[e._id].qty*e.rate})]},e._id))}),(0,r.jsxs)("tbody",{className:"checkout-details",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:2,children:"Subtotal"}),(0,r.jsx)("td",{children:s})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:2,children:"Shipping"}),(0,r.jsx)("td",{children:b})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:2,children:"Total"}),(0,r.jsx)("td",{children:v})]})]})]})})})]})})})]})}},8805:function(e,a,s){"use strict";s.d(a,{T:function(){return r},s:function(){return l}});let r=200,l=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},605:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var r=s(8805),l=s(3770),n=s(9446);function d(){let e=(0,l.CG)(e=>e.user.cart),a={},s=0,d=e.map(e=>{let r=n.find(a=>a._id===e.productId);return a[e.productId]=e,r&&(s+=(null==r?void 0:r.rate)*e.qty),e.productId});return{cartList:n.filter(e=>d.includes(e._id)),cartMap:a,subTotal:s,shippingCost:e.length>0?r.T:0,total:e.length>0?s+r.T:0}}}},function(e){e.O(0,[891,832,55,971,23,744],function(){return e(e.s=5459)}),_N_E=e.O()}]);