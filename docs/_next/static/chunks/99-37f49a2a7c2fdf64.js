"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{2605:function(a,b,c){c.d(b,{Z:function(){return x}});var d=c(5893),e=c(7294),f=c(2351),g=c(9946),h=c(1363),i=c(4103),j=c(6723),k=c(3784),l=c(3781);let m=(0,e.createContext)(null);function n(){let a=(0,e.useContext)(m);if(null===a){let b=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(b,n),b}return a}let o=(0,f.yV)(function(a,b){let{passive:c=!1,...d}=a,e=n(),h=`headlessui-label-${(0,g.M)()}`,i=(0,k.T)(b);(0,j.e)(()=>e.register(h),[h,e.register]);let l={ref:i,...e.props,id:h};return c&&("onClick"in l&&delete l.onClick,"onClick"in d&&delete d.onClick),(0,f.sY)({ourProps:l,theirProps:d,slot:e.slot||{},defaultTag:"label",name:e.name||"Label"})});var p=c(9516);function q(a){var b;if(a.type)return a.type;let c=null!=(b=a.as)?b:"button";if("string"==typeof c&&"button"===c.toLowerCase())return"button"}var r=c(6045);function s(a,b){return a?a+"["+b+"]":b}function t(a,b,c){if(Array.isArray(c))for(let[d,e]of c.entries())t(a,s(b,d.toString()),e);else c instanceof Date?a.push([b,c.toISOString()]):"boolean"==typeof c?a.push([b,c?"1":"0"]):"string"==typeof c?a.push([b,c]):"number"==typeof c?a.push([b,`${c}`]):null==c?a.push([b,""]):function(a={},b=null,c=[]){for(let[d,e]of Object.entries(a))t(c,s(b,d),e);return c}(c,b,a)}let u=(0,e.createContext)(null);u.displayName="GroupContext";let v=e.Fragment,w=Object.assign((0,f.yV)(function(a,b){let{checked:c,onChange:d,name:m,value:n,...o}=a,p=`headlessui-switch-${(0,g.M)()}`,s=(0,e.useContext)(u),t=(0,e.useRef)(null),v=(0,k.T)(t,b,null===s?null:s.setSwitch),w=(0,l.z)(()=>d(!c)),x=(0,l.z)(a=>{if((0,i.P)(a.currentTarget))return a.preventDefault();a.preventDefault(),w()}),y=(0,l.z)(a=>{a.key===h.R.Space?(a.preventDefault(),w()):a.key===h.R.Enter&&function(a){var b;let c=null!=(b=null==a?void 0:a.form)?b:a.closest("form");if(c){for(let d of c.elements)if("INPUT"===d.tagName&&"submit"===d.type||"BUTTON"===d.tagName&&"submit"===d.type||"INPUT"===d.nodeName&&"image"===d.type){d.click();return}}}(a.currentTarget)}),z=(0,l.z)(a=>a.preventDefault()),A=(0,e.useMemo)(()=>({checked:c}),[c]),B={id:p,ref:v,role:"switch",type:function(a,b){let[c,d]=(0,e.useState)(()=>q(a));return(0,j.e)(()=>{d(q(a))},[a.type,a.as]),(0,j.e)(()=>{c||!b.current||b.current instanceof HTMLButtonElement&&!b.current.hasAttribute("type")&&d("button")},[c,b]),c}(a,t),tabIndex:0,"aria-checked":c,"aria-labelledby":null==s?void 0:s.labelledby,"aria-describedby":null==s?void 0:s.describedby,onClick:x,onKeyUp:y,onKeyPress:z};return e.createElement(e.Fragment,null,null!=m&&c&&e.createElement(r._,{features:r.A.Hidden,...(0,f.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:c,name:m,value:n})}),(0,f.sY)({ourProps:B,theirProps:o,slot:A,defaultTag:"button",name:"Switch"}))}),{Group:function(a){let[b,c]=(0,e.useState)(null),[d,g]=function(){let[a,b]=(0,e.useState)([]);return[a.length>0?a.join(" "):void 0,(0,e.useMemo)(()=>function(a){let c=(0,l.z)(a=>(b(b=>[...b,a]),()=>b(b=>{let c=b.slice(),d=c.indexOf(a);return -1!==d&&c.splice(d,1),c}))),d=(0,e.useMemo)(()=>({register:c,slot:a.slot,name:a.name,props:a.props}),[c,a.slot,a.name,a.props]);return e.createElement(m.Provider,{value:d},a.children)},[b])]}(),[h,i]=(0,p.f)(),j=(0,e.useMemo)(()=>({switch:b,setSwitch:c,labelledby:d,describedby:h}),[b,c,d,h]);return e.createElement(i,{name:"Switch.Description"},e.createElement(g,{name:"Switch.Label",props:{onClick(){b&&(b.click(),b.focus({preventScroll:!0}))}}},e.createElement(u.Provider,{value:j},(0,f.sY)({ourProps:{},theirProps:a,defaultTag:v,name:"Switch.Group"}))))},Label:o,Description:p.d});function x(a){var b=a.isEnabled,c=a.onChange,e=a.className;return(0,d.jsx)("div",{className:void 0===e?"":e,children:(0,d.jsxs)(w,{checked:b,onChange:c,className:"".concat(b?"bg-blue-500":"bg-black","\n          relative inline-flex h-[28px] w-[64px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2  focus-visible:ring-white focus-visible:ring-opacity-75"),children:[(0,d.jsx)("span",{className:"sr-only",children:"Use setting"}),(0,d.jsx)("span",{"aria-hidden":"true",className:"".concat(b?"translate-x-9":"translate-x-0","\n            pointer-events-none inline-block h-[24px] w-[24px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out")})]})})}},8901:function(a,b,c){var d=c(4924),e=c(6042),f=c(9396),g=c(5893),h=c(7294),i=c(2664),j=c(2920),k=c(1163),l=c(9819),m=c(3664),n=c(2605),o=c(4655),p=c(3530),q=c(1833);function r(a){var b=a.createCustomer,c=a.editCustomer,i=a.fetchCustomer,o=(0,k.useRouter)(),p=o.query.id,r=!!p,s=(0,h.useState)({}),t=s[0],u=s[1],v=(0,h.useState)(""),w=v[0],x=v[1],y=(0,h.useState)(""),z=y[0],A=y[1],B=(0,h.useState)(""),C=B[0],D=B[1],E=(0,h.useState)(!0),F=E[0],G=E[1];(0,h.useEffect)(function(){p&&i({id:p,callback:function(a){x(a.name),A(a.phone),D(a.email),G(!!a.is_enabled)}})},[p]);var H=function(a){var b=a.target,c=b.value,g=b.name;switch(g){case"name":x(c);break;case"email":D(c);break;case"phone":A(c)}u(function(a){return(0,f.Z)((0,e.Z)({},a),(0,d.Z)({},g,!c))})},I=function(){if(!w){u(function(a){return(0,f.Z)((0,e.Z)({},a),{name:!0})});return}if(!C){u(function(a){return(0,f.Z)((0,e.Z)({},a),{email:!0})});return}if(!z&&z.length<10){u(function(a){return(0,f.Z)((0,e.Z)({},a),{phone:!0})});return}if(r){var a={id:p,name:w,isEnabled:F,email:C,phone:z};c({payload:a,callback:function(a){a&&a.success?(j.Am.success("Customer updated"),o.push(q.adminCustomerList)):j.Am.error("Failed to update customer")}})}else{var d={name:w,isEnabled:F,email:C,phone:z};b({payload:d,callback:function(a){a&&a.success?(j.Am.success("Customer added"),o.push(q.adminCustomerList)):j.Am.error("Failed to add customer")}})}},J=function(){G(function(a){return!a})};return(0,g.jsxs)("div",{className:"p-6 h-full add-edit-product",children:[(0,g.jsxs)("div",{className:"text-lg font-bold mb-3",children:[r?"Edit":"Add"," Customer"]}),(0,g.jsxs)("div",{className:"rounded-md p-5 shadow-xl md:w-2/3 md:ml-auto ml-0 w-full",children:[(0,g.jsxs)("div",{className:"flex flex-wrap",children:[(0,g.jsxs)("div",{className:"mb-2 form-ctrl mr-2",children:[(0,g.jsx)("label",{htmlFor:"name",className:"font-medium mb-3 text-gray-600",children:"Name *"}),(0,g.jsx)(l.Z,{type:"text",name:"name",id:"name",className:"w-full",onChange:H,value:w,placeholder:"Name"}),t.name&&(0,g.jsx)("p",{className:"text-red-600 mt-3",children:"Name is required"})]}),(0,g.jsxs)("div",{className:"mb-2 form-ctrl",children:[(0,g.jsx)("label",{htmlFor:"email",className:"font-medium mb-3 text-gray-600",children:"Email *"}),(0,g.jsx)(l.Z,{type:"email",name:"email",id:"email",className:"w-full",onChange:H,value:C,placeholder:"Email"}),t.email&&(0,g.jsx)("p",{className:"text-red-600 mt-3",children:"Please enter email"})]})]}),(0,g.jsxs)("div",{className:"flex flex-wrap",children:[(0,g.jsxs)("div",{className:"mb-2 form-ctrl mr-2",children:[(0,g.jsx)("label",{htmlFor:"phone",className:"font-medium mb-3 text-gray-600",children:"Phone *"}),(0,g.jsx)(l.Z,{type:"number",name:"phone",id:"phone",className:"w-full",onChange:H,value:z,placeholder:"Phone"}),t.phone&&(0,g.jsx)("p",{className:"text-red-600 mt-3",children:"Enter valid phone number"})]}),(0,g.jsxs)("div",{className:"mb-2 form-ctrl ml-2",children:[(0,g.jsx)("label",{htmlFor:"discount",className:"font-medium mb-3 text-gray-600",children:"Available"}),(0,g.jsx)(n.Z,{isEnabled:F,onChange:J,className:"mt-2"})]})]}),(0,g.jsxs)("div",{className:"flex mt-4",children:[(0,g.jsx)(m.Z,{onClick:I,className:"mr-3",children:"save"}),(0,g.jsx)(m.Z,{secondary:!0,onClick:function(){return o.push(q.adminCustomerList)},className:"w-24",children:"cancel"})]})]})]})}var s=function(){var a=(0,i.I0)();return(0,g.jsx)(r,{createCustomer:function(b){return a((0,o.z2)(b))},fetchCustomer:function(b){return a((0,p.jy)(b))},editCustomer:function(b){return a((0,p.gg)(b))}})};b.Z=s},9516:function(a,b,c){c.d(b,{d:function(){return m},f:function(){return l}});var d=c(7294),e=c(9946),f=c(2351),g=c(6723),h=c(3784),i=c(3781);let j=(0,d.createContext)(null);function k(){let a=(0,d.useContext)(j);if(null===a){let b=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(b,k),b}return a}function l(){let[a,b]=(0,d.useState)([]);return[a.length>0?a.join(" "):void 0,(0,d.useMemo)(()=>function(a){let c=(0,i.z)(a=>(b(b=>[...b,a]),()=>b(b=>{let c=b.slice(),d=c.indexOf(a);return -1!==d&&c.splice(d,1),c}))),e=(0,d.useMemo)(()=>({register:c,slot:a.slot,name:a.name,props:a.props}),[c,a.slot,a.name,a.props]);return d.createElement(j.Provider,{value:e},a.children)},[b])]}let m=(0,f.yV)(function(a,b){let c=k(),d=`headlessui-description-${(0,e.M)()}`,i=(0,h.T)(b);(0,g.e)(()=>c.register(d),[d,c.register]);let j={ref:i,...c.props,id:d};return(0,f.sY)({ourProps:j,theirProps:a,slot:c.slot||{},defaultTag:"p",name:c.name||"Description"})})},1363:function(a,b,c){c.d(b,{R:function(){return e}});var d,e=((d=e||{}).Space=" ",d.Enter="Enter",d.Escape="Escape",d.Backspace="Backspace",d.Delete="Delete",d.ArrowLeft="ArrowLeft",d.ArrowUp="ArrowUp",d.ArrowRight="ArrowRight",d.ArrowDown="ArrowDown",d.Home="Home",d.End="End",d.PageUp="PageUp",d.PageDown="PageDown",d.Tab="Tab",d)},3781:function(a,b,c){c.d(b,{z:function(){return f}});var d=c(7294),e=c(3855);let f=function(a){let b=(0,e.E)(a);return d.useCallback((...a)=>b.current(...a),[b])}},9946:function(a,b,c){c.d(b,{M:function(){return j}});var d,e=c(7294),f=c(6723),g=c(2180);let h=0;function i(){return++h}let j=null!=(d=e.useId)?d:function(){let a=(0,g.H)(),[b,c]=e.useState(a?i:null);return(0,f.e)(()=>{null===b&&c(i())},[b]),null!=b?""+b:void 0}},6723:function(a,b,c){c.d(b,{e:function(){return e}});var d=c(7294);let e="undefined"!=typeof window?d.useLayoutEffect:d.useEffect},3855:function(a,b,c){c.d(b,{E:function(){return f}});var d=c(7294),e=c(6723);function f(a){let b=(0,d.useRef)(a);return(0,e.e)(()=>{b.current=a},[a]),b}},2180:function(a,b,c){c.d(b,{H:function(){return f}});var d=c(7294);let e={serverHandoffComplete:!1};function f(){let[a,b]=(0,d.useState)(e.serverHandoffComplete);return(0,d.useEffect)(()=>{!0!==a&&b(!0)},[a]),(0,d.useEffect)(()=>{!1===e.serverHandoffComplete&&(e.serverHandoffComplete=!0)},[]),a}},3784:function(a,b,c){c.d(b,{T:function(){return h},h:function(){return g}});var d=c(7294),e=c(3781);let f=Symbol();function g(a,b=!0){return Object.assign(a,{[f]:b})}function h(...a){let b=(0,d.useRef)(a);(0,d.useEffect)(()=>{b.current=a},[a]);let c=(0,e.z)(a=>{for(let c of b.current)null!=c&&("function"==typeof c?c(a):c.current=a)});return a.every(a=>null==a||(null==a?void 0:a[f]))?void 0:c}},6045:function(a,b,c){c.d(b,{A:function(){return f},"_":function(){return g}});var d,e=c(2351),f=((d=f||{})[d.None=1]="None",d[d.Focusable=2]="Focusable",d[d.Hidden=4]="Hidden",d);let g=(0,e.yV)(function(a,b){let{features:c=1,...d}=a;return(0,e.sY)({ourProps:{ref:b,"aria-hidden":(2&c)==2||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&c)==4&&(2&c)!=2&&{display:"none"}}},theirProps:d,slot:{},defaultTag:"div",name:"Hidden"})})},4103:function(a,b,c){function d(a){let b=a.parentElement,c=null;for(;b&&!(b instanceof HTMLFieldSetElement);)b instanceof HTMLLegendElement&&(c=b),b=b.parentElement;let d=(null==b?void 0:b.getAttribute("disabled"))==="";return!(d&&e(c))&&d}function e(a){if(!a)return!1;let b=a.previousElementSibling;for(;null!==b;){if(b instanceof HTMLLegendElement)return!1;b=b.previousElementSibling}return!0}c.d(b,{P:function(){return d}})},2984:function(a,b,c){c.d(b,{E:function(){return d}});function d(a,b,...c){if(a in b){let e=b[a];return"function"==typeof e?e(...c):e}let f=Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(b).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,d),f}},2351:function(a,b,c){c.d(b,{AN:function(){return h},l4:function(){return i},oA:function(){return n},sY:function(){return j},yV:function(){return m}});var d,e,f=c(7294),g=c(2984),h=((d=h||{})[d.None=0]="None",d[d.RenderStrategy=1]="RenderStrategy",d[d.Static=2]="Static",d),i=((e=i||{})[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e);function j({ourProps:a,theirProps:b,slot:c,defaultTag:d,features:e,visible:f=!0,name:h}){let i=l(b,a);if(f)return k(i,c,d,h);let j=null!=e?e:0;if(2&j){let{static:m=!1,...n}=i;if(m)return k(n,c,d,h)}if(1&j){let{unmount:o=!0,...p}=i;return(0,g.E)(o?0:1,{0:()=>null,1:()=>k({...p,hidden:!0,style:{display:"none"}},c,d,h)})}return k(i,c,d,h)}function k(a,b={},c,d){let{as:e=c,children:g,refName:h="ref",...i}=o(a,["unmount","static"]),j=void 0!==a.ref?{[h]:a.ref}:{},k="function"==typeof g?g(b):g;i.className&&"function"==typeof i.className&&(i.className=i.className(b));let m={};if(e===f.Fragment&&Object.keys(n(i)).length>0){if(!(0,f.isValidElement)(k)||Array.isArray(k)&&k.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${d} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(i).map(a=>`  - ${a}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(a=>`  - ${a}`).join(`
`)].join(`
`));return(0,f.cloneElement)(k,Object.assign({},l(k.props,n(o(i,["ref"]))),m,j))}return(0,f.createElement)(e,Object.assign({},o(i,["ref"]),e!==f.Fragment&&j,e!==f.Fragment&&m),k)}function l(...a){if(0===a.length)return{};if(1===a.length)return a[0];let b={},c={};for(let d of a)for(let e in d)e.startsWith("on")&&"function"==typeof d[e]?(null!=c[e]||(c[e]=[]),c[e].push(d[e])):b[e]=d[e];if(b.disabled||b["aria-disabled"])return Object.assign(b,Object.fromEntries(Object.keys(c).map(a=>[a,void 0])));for(let f in c)Object.assign(b,{[f](a,...b){let d=c[f];for(let e of d){if(a.defaultPrevented)return;e(a,...b)}}});return b}function m(a){var b;return Object.assign((0,f.forwardRef)(a),{displayName:null!=(b=a.displayName)?b:a.name})}function n(a){let b=Object.assign({},a);for(let c in b)void 0===b[c]&&delete b[c];return b}function o(a,b=[]){let c=Object.assign({},a);for(let d of b)d in c&&delete c[d];return c}},9534:function(a,b,c){c.d(b,{Z:function(){return d}});function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}}}])