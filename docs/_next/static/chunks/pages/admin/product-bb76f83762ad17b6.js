(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{1296:function(a,b,c){var d=0/0,e=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,h=/^0o[0-7]+$/i,i=parseInt,j="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,k="object"==typeof self&&self&&self.Object===Object&&self,l=j||k||Function("return this")(),m=Object.prototype.toString,n=Math.max,o=Math.min,p=function(){return l.Date.now()};function q(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function r(a){if("number"==typeof a)return a;if("symbol"==typeof(b=a)||(c=b)&&"object"==typeof c&&"[object Symbol]"==m.call(b))return d;if(q(a)){var b,c,j="function"==typeof a.valueOf?a.valueOf():a;a=q(j)?j+"":j}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(e,"");var k=g.test(a);return k||h.test(a)?i(a.slice(2),k?2:8):f.test(a)?d:+a}a.exports=function(a,b,c){var d,e,f,g,h,i,j=0,k=!1,l=!1,m=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=d,f=e;return d=e=void 0,j=b,g=a.apply(f,c)}function t(a){var c=a-i,d=a-j;return void 0===i||c>=b||c<0||l&&d>=f}function u(){var a,c,d,e,g=p();if(t(g))return v(g);h=setTimeout(u,(c=(a=g)-i,d=a-j,e=b-c,l?o(e,f-d):e))}function v(a){return(h=void 0,m&&d)?s(a):(d=e=void 0,g)}function w(){var a,c=p(),f=t(c);if(d=arguments,e=this,i=c,f){if(void 0===h)return j=a=i,h=setTimeout(u,b),k?s(a):g;if(l)return h=setTimeout(u,b),s(i)}return void 0===h&&(h=setTimeout(u,b)),g}return b=r(b)||0,q(c)&&(k=!!c.leading,l="maxWait"in c,f=l?n(r(c.maxWait)||0,b):f,m="trailing"in c?!!c.trailing:m),w.cancel=function(){void 0!==h&&clearTimeout(h),j=0,d=i=e=h=void 0},w.flush=function(){return void 0===h?g:v(p())},w}},3209:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/product",function(){return c(4446)}])},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},4446:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return v}});var d=c(5893),e=c(7294),f=c(2664),g=c(4e3),h=c(1163),i=c(2814),j=c(1436),k=c(1296),l=c.n(k),m=c(9819),n=c(3664),o=c(3096),p=c(7701),q=c(1833);function r(a){var b=function(){a.clicked(a.value)};return(0,d.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed w-fit px-3",onClick:b,children:"open"})}var s=function(a){var b=a.productList,c=a.fetchProducts,f=a.fetchProductCount,k=a.total,o=a.searchProducts,s=a.categoriesList,t=(0,e.useRef)(),u=(0,e.useRef)(),v=(0,h.useRouter)(),w=(0,e.useState)(""),x=w[0],y=w[1],z=(0,e.useState)(1),A=z[0],B=z[1],C=(0,e.useMemo)(function(){return Math.ceil(k/p.pageSize)},[k]),D=function(a){o({searchText:a.target.value}),y(a.target.value)},E=(0,e.useCallback)(l()(D,1e3),[]),F=(0,e.useCallback)(function(){},[]);(0,e.useEffect)(function(){Array.isArray(s)&&s.length>0&&(c({payload:{isNext:!0}}),f())},[s]),(0,e.useEffect)(function(){return function(){B(1)}},[]);var G=function(){y(""),u.current.value="",B(1),c({payload:{isNext:!0}}),f()},H=function(){v.push(q.adminAddProduct)},I=function(){b&&!(b.length<=0)&&!(A<=1)&&!(C<=1)&&(c({payload:{cursor:b[0].id,isNext:!1}}),B(function(a){return a-1}))},J=function(){b&&!(b.length<=0)&&!(A>=C)&&!(C<=1)&&(c({payload:{cursor:b[b.length-1].id,isNext:!0}}),B(function(a){return a+1}))};return(0,d.jsxs)("div",{className:"p-6 h-full",children:[(0,d.jsx)("div",{className:"text-lg font-bold mb-3",children:"Product list"}),(0,d.jsxs)("div",{className:"flex justify-start mb-3 flex-wrap",children:[(0,d.jsx)(m.Z,{type:"text",name:"search",className:"w-1/2 mr-6",onChange:E,ref:u,placeholder:"Search products"}),(0,d.jsxs)(n.Z,{onClick:G,className:"flex items-center justify-center",disabled:!x,children:[(0,d.jsx)(i.G,{icon:j.g82}),(0,d.jsx)("span",{className:"inline-block ml-3",children:"clear"})]}),(0,d.jsxs)(n.Z,{onClick:H,className:"flex items-center justify-center ml-0 md:ml-5 w-fit px-3 mt-2 md:mt-0",children:[(0,d.jsx)(i.G,{icon:j.r8p}),(0,d.jsx)("span",{className:"inline-block ml-3",children:"Add product"})]})]}),(0,d.jsx)("div",{className:"ag-theme-alpine w-full",style:{height:"75vh"},children:(0,d.jsx)(g.AgGridReact,{ref:t,rowData:b,columnDefs:[{field:"name",headerName:"Name",width:500,resizable:!0},{field:"category",headerName:"Category",resizable:!0},{field:"rate",headerName:"Rate",resizable:!0},{field:"unit",headerName:"Unit",resizable:!0},{field:"is_available",headerName:"Available",resizable:!0},{field:"stock",headerName:"Stock",resizable:!0},{field:"id",headerName:"Action",cellRenderer:"btnCellRenderer",cellRendererParams:{clicked:function(a){v.push({pathname:q.adminEditProduct,query:{id:a}})}},minWidth:150}],defaultColDef:{sortable:!1},animateRows:!0,rowSelection:!1,onCellClicked:F,components:{btnCellRenderer:r}})}),!x&&(0,d.jsxs)("div",{className:"flex justify-between mt-3",children:[(0,d.jsxs)("div",{onClick:I,className:"flex cursor-pointer items-center text-secondary hover:text-primary",children:[(0,d.jsx)(i.G,{icon:j.Uu6,className:"icon"}),(0,d.jsx)("span",{className:"inline-block ml-4",children:"Previous"})]}),(0,d.jsxs)("div",{onClick:J,className:"flex cursor-pointer items-center text-secondary hover:text-primary",children:[(0,d.jsx)("span",{className:"inline-block mr-3",children:"Next"}),(0,d.jsx)(i.G,{icon:j.I4f,className:"icon"})]})]})]})},t=function(){var a=(0,f.v9)(function(a){return a.product.productList}),b=(0,f.v9)(function(a){return a.product.totalProductCount}),c=(0,f.v9)(function(a){return a.product.productCategoriesList}),e=(0,f.I0)();return(0,d.jsx)(s,{productList:a,total:b,fetchProducts:function(a){return e((0,o.bJ)(a))},searchProducts:function(a){return e((0,o.ft)(a))},categoriesList:c,fetchProductCount:function(){return e((0,o.gE)())}})},u=c(4993),v=function(){return(0,d.jsx)(u.Z,{children:(0,d.jsx)(t,{})})}}},function(a){a.O(0,[774,523,153,424,814,236,803,888,179],function(){var b;return a(a.s=3209)}),_N_E=a.O()}])