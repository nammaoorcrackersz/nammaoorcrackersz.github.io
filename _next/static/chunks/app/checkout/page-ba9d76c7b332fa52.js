(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{5459:function(e,a,r){Promise.resolve().then(r.bind(r,5352))},4016:function(e,a,r){"use strict";var t=r(7437);let n=(0,r(2265).forwardRef)(function(e,a){let{onClick:r=()=>{},className:n="",primary:i=!1,secondary:c=!1,children:s}=e,l="boxed-btn";return i?l="boxed-btn":c&&(l="bordered-btn"),(0,t.jsx)("button",{ref:a,onClick:r,className:"".concat(l," ").concat(n||""),children:s})});a.Z=n},5352:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return p}});var t=r(7437),n=r(605),i=r(2265),c=r(1907),s=r(2543),l=r(6549),d=r(9864),o=r(2434),u=r(8217),m=r(4016),h=r(8805),g=r(1444),b=r(150),f=r(6463);function p(){let{cartList:e,cartMap:a,subTotal:r,total:p,shippingCost:j}=(0,n.Z)(),x=(0,i.useRef)(),y=(0,g.I0)(),v=(0,f.useRouter)(),[k,C]=(0,i.useState)(""),[E,_]=(0,i.useState)(""),[N,S]=(0,i.useState)(""),[U,Z]=(0,i.useState)(""),[A,w]=(0,i.useState)(""),[O,R]=(0,i.useState)({});(0,i.useEffect)(()=>{(!e||e.length<=0)&&v.back()},[e,v]);let G=(e,a)=>{switch(a){case"name":C(e.target.value),R(e=>({...e,name:!1}));break;case"email":_(e.target.value),R(e=>({...e,email:!1}));break;case"note":w(e.target.value);break;case"address":S(e.target.value),R(e=>({...e,address:!1}));break;case"phone":Z(e.target.value),R(e=>({...e,phone:!1}))}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"breadcrumb-section breadcrumb-bg",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-lg-8 offset-lg-2 text-center",children:(0,t.jsx)("div",{className:"breadcrumb-text",children:(0,t.jsx)("h1",{children:"Checkout"})})})})})}),(0,t.jsx)("div",{className:"checkout-section mt-150 mb-150",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-lg-6",children:[(0,t.jsx)("div",{className:"checkout-accordion-wrap",children:(0,t.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,t.jsxs)("div",{className:"card single-accordion",children:[(0,t.jsx)("div",{className:"card-header",id:"headingOne",children:(0,t.jsx)("h5",{className:"mb-0",children:(0,t.jsx)("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Billing Address"})})}),(0,t.jsx)("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("div",{className:"billing-address-form",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{for:"name",children:"Name"}),(0,t.jsx)(o.Z,{type:"text",placeholder:"Name",value:k,invalid:O.name,onChange:e=>G(e,"name")}),(0,t.jsx)(u.Z,{children:"Enter your name"})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{for:"exampleEmail",children:"Email"}),(0,t.jsx)(o.Z,{type:"email",placeholder:"Email",value:E,invalid:O.email,onChange:e=>G(e,"email")}),(0,t.jsx)(u.Z,{children:"Enter a valid email"})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{for:"exampleEmail",children:"Address"}),(0,t.jsx)(o.Z,{type:"textarea",placeholder:"Address",value:N,invalid:O.address,onChange:e=>G(e,"address")}),(0,t.jsx)(u.Z,{children:"Enter your address"})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{for:"exampleEmail",children:"Phone"}),(0,t.jsx)(o.Z,{type:"tel",placeholder:"Phone",value:U,invalid:O.phone,onChange:e=>G(e,"phone")}),(0,t.jsx)(u.Z,{children:"Enter valid phone number"})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{for:"exampleEmail",children:"Note"}),(0,t.jsx)(o.Z,{type:"textarea",placeholder:"Note",value:A,onChange:e=>G(e,"note")}),(0,t.jsx)(u.Z,{children:"Enter your address"})]})]})})})})]})})}),(0,t.jsx)(c.Z,{ref:x,sitekey:"6LdpDUUqAAAAACOKeN6BcSEzrdGJoRF83JWuuopU"}),(0,t.jsx)(m.Z,{onClick:()=>{let r;if(x.current&&(r=x.current.getValue()),!r){alert("Please verify the reCAPTCHA!");return}let t={};if(k||(t.name=!0),N||(t.address=!0),(!U||U.length<10)&&(t.phone=!0),E&&!h.s.test(E)&&(t.email=!0),Object.keys(t).length>0){R(t);return}let n={name:k,email:E,address:N,phone:U,note:A,products:e.map(e=>{var r;return{_id:e._id,qty:null===(r=a[e._id])||void 0===r?void 0:r.qty}}),captchaValue:r};y((0,b.fc)(n))},className:"mt-3 me-3",children:"Place Order"}),(0,t.jsx)(m.Z,{secondary:!0,onClick:()=>v.back(),className:"mt-3",children:"Back"})]}),(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsx)("div",{className:"order-details-wrap",children:(0,t.jsxs)("table",{className:"order-details",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Your order Details"}),(0,t.jsx)("th",{children:"Qty"}),(0,t.jsx)("th",{children:"Price"})]})}),(0,t.jsx)("tbody",{className:"order-details-body",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:a[e._id].qty}),(0,t.jsx)("td",{children:a[e._id].qty*e.rate})]},e._id))}),(0,t.jsxs)("tbody",{className:"checkout-details",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:2,children:"Subtotal"}),(0,t.jsx)("td",{children:r})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:2,children:"Shipping"}),(0,t.jsx)("td",{children:j})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:2,children:"Total"}),(0,t.jsx)("td",{children:p})]})]})]})})})]})})})]})}},8805:function(e,a,r){"use strict";r.d(a,{T:function(){return t},s:function(){return n}});let t=200,n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},3770:function(e,a,r){"use strict";r.d(a,{CG:function(){return i},TL:function(){return n}});var t=r(1444);let n=t.I0.withTypes(),i=t.v9.withTypes();t.oR.withTypes()},150:function(e,a,r){"use strict";r.d(a,{Cn:function(){return u},MU:function(){return o},_0:function(){return h},dm:function(){return d},fc:function(){return m}});var t=r(6862),n=r(8416),i=r(3580);let c=(0,t.oM)({name:"user",initialState:{name:null,email:null,address:null,phone:null,cart:[]},reducers:{setUserDetails:(e,a)=>{let r=a.payload?a.payload:{};e.name=r.name,e.email=r.email,e.address=r.address,e.phone=r.phone},setCart:(e,a)=>{let r=Array.isArray(a.payload)?a.payload:[];e.cart=r},setItem:(e,a)=>{let{key:r,value:t}=a.payload;e[r]=t}}}),{setUserDetails:s,setCart:l}=c.actions,d=(e,a)=>async(r,t)=>{try{let n=t(),c=JSON.parse(JSON.stringify(n.user.cart)),s=!1,d=1,o=c.findIndex(a=>a.productId===e&&(d=a.qty,s=!0,!0));Array.isArray(c)?s?s&&(c[o].qty=d+1,r(l(c))):(c.push({productId:e,qty:a||1}),r(l(c))):r(l([{productId:e,qty:a||1}])),i.Am.success("Added Item to cart")}catch(e){console.log(e)}},o=(e,a)=>async(r,t)=>{try{let i=t(),c=(0,n.d)(i.user.cart),s=c.findIndex(a=>a.productId===e);if(s<0)return;c[s].qty=a,r(l(c))}catch(e){console.log(e)}},u=e=>async(a,r)=>{try{let t=r().user.cart.filter(a=>a.productId!==e);a(l(t)),i.Am.warn("Removed Item from cart")}catch(e){console.log(e)}},m=e=>async(a,r)=>{try{let a=await fetch("".concat("https://dinesh.click","/send_mail"),{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}});await a.json(),i.Am.success("Order placed successfully")}catch(e){console.log(e)}},h=()=>async(e,a)=>{try{let e=await fetch("".concat("https://dinesh.click","/keep_warm"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});await e.json(),i.Am.success("Keep warm successfully")}catch(e){console.log(e)}};a.ZP=c.reducer},8416:function(e,a,r){"use strict";function t(e){return e?JSON.parse(JSON.stringify(e)):e}r.d(a,{d:function(){return t}})},605:function(e,a,r){"use strict";r.d(a,{Z:function(){return c}});var t=r(8805),n=r(3770),i=r(9446);function c(){let e=(0,n.CG)(e=>e.user.cart),a={},r=0,c=e.map(e=>{let t=i.find(a=>a._id===e.productId);return a[e.productId]=e,t&&(r+=(null==t?void 0:t.rate)*e.qty),e.productId});return{cartList:i.filter(e=>c.includes(e._id)),cartMap:a,subTotal:r,shippingCost:e.length>0?t.T:0,total:e.length>0?r+t.T:0}}},9446:function(e){"use strict";e.exports=JSON.parse('[{"_id":"7300060a-b887-4905-b9a8-44f70b247e66","name":"2 Lakshmi","rate":9,"isEnabled":true,"imageUrl":"1.jpg","category":"Single Round Crackers","unit":1},{"_id":"48383a06-9647-4fce-a3cb-9e040f83e1d8","name":"2 3/4 Kuruvi","rate":275,"isEnabled":true,"imageUrl":"2.png","category":"Single Round Crackers","unit":1},{"_id":"cc0e4706-026d-4b42-9c74-8045ebb0cf17","name":"1/2 Lakshmi","rate":275,"isEnabled":true,"imageUrl":"3.png","category":"Single Round Crackers","unit":1},{"_id":"331772a2-e0db-4c22-b7e4-426d6df206cd","name":"4 Lakshmi","rate":275,"isEnabled":true,"imageUrl":"4.jpeg","category":"Single Round Crackers","unit":3},{"_id":"ffa8b182-884a-4389-9777-d389f6e0049f","name":"4 Deluxe Lakshmi","rate":49,"isEnabled":true,"imageUrl":"5.jpeg","category":"Single Round Crackers","unit":3},{"_id":"cda4f59d-63e5-4945-a76d-6cf7c703dbe1","name":"4 Hulk / Chotta Bheem","rate":76,"isEnabled":true,"imageUrl":"6.png","category":"Single Round Crackers","unit":1},{"_id":"d5398cbe-eaff-4716-805d-09ad33cafab7","name":"4 Super Mega Deluxe Jumbo","rate":85,"isEnabled":true,"imageUrl":"7.jpeg","category":"Single Round Crackers","unit":1},{"_id":"faf452ea-b4cb-4ce8-badc-8ccb3f113f05","name":"4 Gold Lakshmi","rate":70,"isEnabled":true,"imageUrl":"8.webp","category":"Single Round Crackers","unit":1},{"_id":"de8f1f46-d737-4d11-a9a1-58f062fd44ce","name":"2 Sound","rate":67,"isEnabled":true,"imageUrl":"9.jpeg","category":"Single Round Crackers","unit":1},{"_id":"5c51c6dd-ee4e-4907-8a9e-1ca7097d2364","name":"3 Sound","rate":67,"isEnabled":true,"imageUrl":"9.jpeg","category":"Single Round Crackers","unit":1},{"_id":"279b8cb1-5526-4657-b873-f8c256cf4214","name":"10 Chorsa","rate":20,"isEnabled":true,"imageUrl":"9.jpeg","category":"Chorsa Crackers","unit":1},{"_id":"7b02e80d-84ae-41c3-a3a5-cd7f56bcd6d4","name":"28 Chorsa","rate":28,"isEnabled":true,"imageUrl":"9.jpeg","category":"Chorsa Crackers","unit":1},{"_id":"907adf62-7aeb-41df-8145-a4999f70ce7e","name":"56 Chorsa","rate":56,"isEnabled":true,"imageUrl":"9.jpeg","category":"Chorsa Crackers","unit":1},{"_id":"a0abc446-35fb-4291-9085-323ca7fef5f6","name":"28 Goa Crackers","rate":45,"isEnabled":true,"imageUrl":"9.jpeg","category":"Goa Crackers","unit":1},{"_id":"b743c85e-56fa-45b4-a2b4-8c702548822d","name":"56 Goa Crackers","rate":90,"isEnabled":true,"imageUrl":"9.jpeg","category":"Goa Crackers","unit":1},{"_id":"491f2c52-ad22-4f6b-959d-bb222177aa07","name":"Red Bijilli (50 Pcs)","rate":45,"isEnabled":true,"imageUrl":"9.jpeg","category":"Bijili Crackers","unit":5},{"_id":"0e7625f7-95f8-4cb5-ba8c-99a62527e166","name":"Stripped Bijilli (50 Pcs)","rate":55,"isEnabled":true,"imageUrl":"9.jpeg","category":"Bijili Crackers","unit":5},{"_id":"cf7fb1c5-3fe7-4437-8f48-ac5569e084c1","name":"Red Bijilli (100 Pcs)","rate":76,"isEnabled":true,"imageUrl":"9.jpeg","category":"Bijili Crackers","unit":5},{"_id":"7afef3b4-20e3-4fb0-9e86-e93727038505","name":"Stripped Bijilli (100 Pcs)","rate":83,"isEnabled":true,"imageUrl":"9.jpeg","category":"Bijili Crackers","unit":5},{"_id":"e35e3c29-7037-46ac-9e5b-302ff71ae93e","name":"Gold Bijilli (100 Pcs)","rate":91,"isEnabled":true,"imageUrl":"9.jpeg","category":"Bijili Crackers","unit":5},{"_id":"732f1801-4f61-4d04-bd8f-46a7d659a429","name":"100 Wala","rate":97,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"55449e97-e928-47cc-99f9-23021079b419","name":"200 Wala","rate":193,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"87ef0045-85c2-4c51-8f1b-0d13d29309b6","name":"300 Wala","rate":294,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"42dbe5e3-cc8f-4e8b-80aa-cf1846c929d3","name":"600 Wala","rate":495,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"bcb32d50-1ef0-494b-b00b-0a9c57f31e78","name":"Magic Colour Wala","rate":385,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"a39e5643-3b5b-4629-83a0-290242113d2b","name":"1000 Wala","rate":690,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3},{"_id":"39e4f7e7-2b42-4654-a8f9-6872ba4ae01c","name":"2000 Wala","rate":1380,"isEnabled":true,"imageUrl":"9.jpeg","category":"Festival Garland","unit":3}]')}},function(e){e.O(0,[891,832,971,23,744],function(){return e(e.s=5459)}),_N_E=e.O()}]);