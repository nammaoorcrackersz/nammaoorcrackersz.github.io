(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return c(610)}])},3664:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md w-24 focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},1833:function(a){"use strict";a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout"}},610:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return E}});var d=c(5893),e=c(7294),f=c(9008),g=c.n(f),h=c(2664),i=c(5217),j=c(4655),k=c(7568),l=c(6042),m=c(9396),n=c(4051),o=c.n(n),p=c(1664),q=c.n(p),r=c(2920),s=c(7361),t=c.n(s),u=c(1163),v=c(9819),w=c(3664),x=c(9534);function y(a){var b=a.name,c=a.label,e=a.id,f=(0,x.Z)(a,["name","label","id"]);return(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("input",(0,l.Z)({className:"appearance-none rounded-full h-4 w-4 border checked:border-4 border-gray-300 bg-white checked:bg-white checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:b,id:e},f)),(0,d.jsx)("label",{className:"inline-block text-gray-800 cursor-pointer",htmlFor:e,children:c})]})}var z=c(7701),A=c(1833),B=function(a){return{auth:a.auth}},C=function(a){return(0,i.DE)({login:j.x4,adminLogin:j.$g},a)},D=(0,h.$j)(B,C)(function(a){var b,c=a.login,f=a.auth,g=a.adminLogin,h=(0,e.useState)(""),i=h[0],j=h[1],n=(0,e.useState)(""),p=n[0],s=n[1],x=(0,e.useState)({}),B=x[0],C=x[1],D=(0,u.useRouter)(),E=(0,e.useState)(!1),F=E[0],G=E[1],H=t()(f,"user.token",!1),I=t()(f,"user.isAdmin",!1);(0,e.useEffect)(function(){H&&D.push(I?A.adminSalesList:A.dashboard)},[H]);var J=(b=(0,k.Z)(o().mark(function a(){var b;return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=3;break}return C("Email is required"),a.abrupt("return");case 3:if(z.emailPattern.test(i)){a.next=6;break}return C("Enter a valid email"),a.abrupt("return");case 6:if(b={},!F){a.next=13;break}return a.next=10,g({email:i,password:p});case 10:b=a.sent,a.next=16;break;case 13:return a.next=15,c({email:i,password:p});case 15:b=a.sent;case 16:b.success?D.push(F?A.adminSalesList:"/"):r.Am.error("Error occured please try after sometime");case 17:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),K=function(a){var b=a.target;switch(b.name){case"email":j(b.value),C(function(a){return(0,m.Z)((0,l.Z)({},a),{email:!b.value&&"Email is required"})});break;case"password":s(b.value),C(function(a){return(0,m.Z)((0,l.Z)({},a),{password:!b.value&&"Password is required"})})}};return(0,d.jsx)("div",{className:"container m-auto mt-28",children:(0,d.jsxs)("div",{className:"p-10 rounded-xl shadow-md m-auto flex w-6/12 flex-col items-center",children:[(0,d.jsx)("div",{className:"font-medium mb-4 text-2xl",children:"Login"}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{htmlFor:"email",className:"font-medium mb-3 text-gray-600",children:"Email"}),(0,d.jsx)(v.Z,{type:"email",name:"email",className:"w-full",onChange:K,value:i,placeholder:"Email"}),B.email&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.email})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{htmlFor:"password",className:"font-medium mb-3 text-gray-600",children:"Password"}),(0,d.jsx)(v.Z,{type:"password",className:"w-full",name:"password",onChange:K,value:p,placeholder:"Password"}),B.password&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.password})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)(y,{onChange:function(){return G(!1)},name:"is_admin",label:"Customer",id:"customer",checked:!F}),(0,d.jsx)(y,{onChange:function(){return G(!0)},name:"is_admin",label:"Admin",id:"admin",checked:F}),B.password&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.password})]}),(0,d.jsx)(w.Z,{danger:!0,onClick:function(){return J()},className:"w-1/2 mt-4",children:"Login"}),(0,d.jsxs)("div",{className:"text-gray-400 mt-6",children:["Are you new here?"," ",(0,d.jsx)(q(),{href:A.register,children:(0,d.jsx)("a",{className:"underline text-pink-300 cursor-pointer",children:"click here"})})," ","to register"]})]})})}),E=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g(),{children:(0,d.jsx)("title",{children:"Fireworks"})}),(0,d.jsx)(D,{})]})}},9008:function(a,b,c){a.exports=c(5443)},9534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})}},function(a){a.O(0,[424,774,888,179],function(){var b;return a(a.s=6429)}),_N_E=a.O()}])