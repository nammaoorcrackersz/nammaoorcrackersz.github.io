(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return c(592)}])},3664:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},1833:function(a){"use strict";a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout",paymentDetails:"/payment-details"}},592:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return A}});var d=c(5893),e=c(7294),f=c(2664),g=c(5217),h=c(4655),i=c(7568),j=c(6042),k=c(9396),l=c(4051),m=c.n(l),n=c(9208),o=c.n(n),p=c(2920),q=c(1163),r=c(1664),s=c.n(r),t=c(9819),u=c(3664),v=c(7701),w=c(1833),x=function(a){return{auth:a.auth}},y=function(a){return(0,g.DE)({register:h.z2},a)},z=(0,f.$j)(x,y)(function(a){var b,c=a.register,f=a.auth,g=(0,e.useState)(""),h=g[0],l=g[1],n=(0,e.useState)(""),r=n[0],x=n[1],y=(0,e.useState)(""),z=y[0],A=y[1],B=(0,e.useState)({}),C=B[0],D=B[1],E=(0,q.useRouter)(),F=o()(f,"user.token",!1),G=o()(f,"user.isAdmin",!1),H=(0,e.useMemo)(function(){var a=!1;if(E.query){var b=E.query;console.log({query:b}),"checkout"===b.redirect&&(a=!0)}return{isFromRegister:a}},[E.query]).isFromRegister;(0,e.useEffect)(function(){F&&E.push(G?adminSalesList:w.dashboard)},[F]);var I=(b=(0,i.Z)(m().mark(function a(){var b;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!r||!v.emailPattern.test(r))){a.next=3;break}return D(function(a){return(0,k.Z)((0,j.Z)({},a),{msg:"",email:!0})}),a.abrupt("return");case 3:if(h){a.next=6;break}return D(function(a){return(0,k.Z)((0,j.Z)({},a),{msg:"",name:!0})}),a.abrupt("return");case 6:if(!(!z||(z+"").length<10)){a.next=9;break}return D(function(a){return(0,k.Z)((0,j.Z)({},a),{msg:"",phone:!0})}),a.abrupt("return");case 9:return b=!!H,a.next=12,c({payload:{email:r,phone:z,name:h,isSendCredentials:!!H},callback:function(a){if(a&&a.success)p.Am.success("Password has been sent to your registered email address"),b?E.push(w.customerCheckout):E.push(w.login);else{var c=o()(a,"message");c?D(function(a){return(0,k.Z)((0,j.Z)({},a),{msg:c})}):D(function(a){return(0,k.Z)((0,j.Z)({},a),{msg:"Error occured please try after sometime"})})}}});case 12:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),J=function(a){switch(a.name){case"email":x(a.value),D(function(b){return(0,k.Z)((0,j.Z)({},b),{email:!a.value})});break;case"name":l(a.value),D(function(b){return(0,k.Z)((0,j.Z)({},b),{name:!a.value})});break;case"phone":A(a.value),D(function(b){return(0,k.Z)((0,j.Z)({},b),{phone:!a.value})})}};return(0,d.jsx)("div",{className:"container m-auto mt-28",children:(0,d.jsxs)("div",{className:"p-10 rounded-xl shadow-md m-auto flex lg:w-6/12 w-3/4 flex-col items-center",children:[H&&(0,d.jsxs)("div",{className:"bg-blue-100 border border-blue-500 rounded-xl text-blue-700 px-4 py-3 mb-5",children:[(0,d.jsx)("p",{className:"font-bold",children:"Please create an account"}),(0,d.jsx)("p",{className:"text-sm",children:"Please create an account to place an order"})]}),(0,d.jsx)("div",{className:"font-medium mb-4 text-2xl",children:"Create an account"}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Name"}),(0,d.jsx)(t.Z,{type:"Name",className:"w-full",onChange:function(a){return J({name:"name",value:a.target.value})},value:h,placeholder:"Name"}),C.name&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Name is required"})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Email"}),(0,d.jsx)(t.Z,{type:"email",className:"w-full",onChange:function(a){return J({name:"email",value:a.target.value})},value:r,placeholder:"Email"}),C.email&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Enter valid Email"})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Phone number"}),(0,d.jsx)(t.Z,{type:"number",className:"w-full",onChange:function(a){return J({name:"phone",value:a.target.value})},value:z,placeholder:"Phone number"}),C.phone&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Enter valid Phone number"})]}),(0,d.jsx)(u.Z,{danger:!0,onClick:function(){return I()},className:"w-1/2 mt-4",children:"Register"}),C.msg&&(0,d.jsx)("div",{className:"mt-6 text-red-600",children:C.msg}),(0,d.jsxs)("div",{className:"text-gray-400 mt-6",children:["Already have an account?"," ",(0,d.jsx)(s(),{href:w.login,children:(0,d.jsx)("a",{className:"underline text-red-600 cursor-pointer",children:"click here"})})," ","to login"]})]})})}),A=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(z,{})})}},9534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})}},function(a){a.O(0,[424,774,888,179],function(){var b;return a(a.s=5511)}),_N_E=a.O()}])