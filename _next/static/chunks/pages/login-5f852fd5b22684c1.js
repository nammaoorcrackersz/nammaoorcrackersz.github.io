(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return c(610)}])},3664:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-fit p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},1833:function(a){"use strict";a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout",paymentDetails:"/payment-details"}},610:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return C}});var d=c(5893),e=c(7294),f=c(2664),g=c(5217),h=c(4655),i=c(7568),j=c(6042),k=c(9396),l=c(4051),m=c.n(l),n=c(1664),o=c.n(n),p=c(2920),q=c(7361),r=c.n(q),s=c(1163),t=c(9819),u=c(3664),v=c(9534);function w(a){var b=a.name,c=a.label,e=a.id,f=(0,v.Z)(a,["name","label","id"]);return(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("input",(0,j.Z)({className:"appearance-none rounded-full h-4 w-4 border checked:border-4 border-gray-300 bg-white checked:bg-white checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:b,id:e},f)),(0,d.jsx)("label",{className:"inline-block text-gray-800 cursor-pointer",htmlFor:e,children:c})]})}var x=c(7701),y=c(1833),z=function(a){return{auth:a.auth}},A=function(a){return(0,g.DE)({login:h.x4,adminLogin:h.$g},a)},B=(0,f.$j)(z,A)(function(a){var b,c=a.login,f=a.auth,g=a.adminLogin,h=(0,e.useState)(""),l=h[0],n=h[1],q=(0,e.useState)(""),v=q[0],z=q[1],A=(0,e.useState)({}),B=A[0],C=A[1],D=(0,s.useRouter)(),E=(0,e.useState)(!1),F=E[0],G=E[1],H=r()(f,"user.token",!1),I=r()(f,"user.isAdmin",!1);(0,e.useEffect)(function(){H&&D.push(I?y.adminSalesList:y.dashboard)},[H]);var J=(b=(0,i.Z)(m().mark(function a(){var b;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l){a.next=3;break}return C("Email is required"),a.abrupt("return");case 3:if(x.emailPattern.test(l)){a.next=6;break}return C("Enter a valid email"),a.abrupt("return");case 6:if(b={},!F){a.next=13;break}return a.next=10,g({email:l,password:v});case 10:b=a.sent,a.next=16;break;case 13:return a.next=15,c({email:l,password:v});case 15:b=a.sent;case 16:b.success?D.push(F?y.adminSalesList:"/"):p.Am.error("Error occured please try after sometime");case 17:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),K=function(a){var b=a.target;switch(b.name){case"email":n(b.value),C(function(a){return(0,k.Z)((0,j.Z)({},a),{email:!b.value&&"Email is required"})});break;case"password":z(b.value),C(function(a){return(0,k.Z)((0,j.Z)({},a),{password:!b.value&&"Password is required"})})}};return(0,d.jsx)("div",{className:"container m-auto mt-28",children:(0,d.jsxs)("div",{className:"p-10 rounded-xl shadow-md m-auto flex lg:w-6/12 w-3/4 flex-col items-center",children:[(0,d.jsx)("div",{className:"font-medium mb-4 text-2xl",children:"Login"}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{htmlFor:"email",className:"font-medium mb-3 text-gray-600",children:"Email"}),(0,d.jsx)(t.Z,{type:"email",name:"email",className:"w-full",onChange:K,value:l,placeholder:"Email"}),B.email&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.email})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{htmlFor:"password",className:"font-medium mb-3 text-gray-600",children:"Password"}),(0,d.jsx)(t.Z,{type:"password",className:"w-full",name:"password",onChange:K,value:v,placeholder:"Password"}),B.password&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.password})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)(w,{onChange:function(){return G(!1)},name:"is_admin",label:"Customer",id:"customer",checked:!F}),(0,d.jsx)(w,{onChange:function(){return G(!0)},name:"is_admin",label:"Admin",id:"admin",checked:F}),B.password&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:B.password})]}),(0,d.jsx)(u.Z,{danger:!0,onClick:function(){return J()},className:"w-1/2 mt-4",children:"Login"}),(0,d.jsxs)("div",{className:"text-gray-400 mt-6",children:["Are you new here?"," ",(0,d.jsx)(o(),{href:y.register,children:(0,d.jsx)("a",{className:"underline text-pink-300 cursor-pointer",children:"click here"})})," ","to register"]})]})})}),C=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(B,{})})}},9534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})}},function(a){a.O(0,[424,774,888,179],function(){var b;return a(a.s=6429)}),_N_E=a.O()}])