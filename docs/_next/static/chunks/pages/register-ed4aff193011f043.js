(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return c(592)}])},3664:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md w-24 focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},1833:function(a){"use strict";a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout"}},592:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return C}});var d=c(5893),e=c(7294),f=c(9008),g=c.n(f),h=c(2664),i=c(5217),j=c(4655),k=c(7568),l=c(6042),m=c(9396),n=c(4051),o=c.n(n),p=c(9208),q=c.n(p),r=c(2920),s=c(1163),t=c(1664),u=c.n(t),v=c(9819),w=c(3664),x=c(7701),y=c(1833),z=function(a){return{auth:a.auth}},A=function(a){return(0,i.DE)({register:j.z2},a)},B=(0,h.$j)(z,A)(function(a){var b,c=a.register,f=a.auth,g=(0,e.useState)(""),h=g[0],i=g[1],j=(0,e.useState)(""),n=j[0],p=j[1],t=(0,e.useState)(""),z=t[0],A=t[1],B=(0,e.useState)({}),C=B[0],D=B[1],E=(0,s.useRouter)(),F=q()(f,"user.token",!1),G=q()(f,"user.isAdmin",!1),H=(0,e.useMemo)(function(){var a=!1;if(E.query){var b=E.query;console.log({query:b}),"checkout"===b.redirect&&(a=!0)}return{isFromRegister:a}},[E.query]).isFromRegister;(0,e.useEffect)(function(){F&&E.push(G?adminSalesList:y.dashboard)},[F]);var I=(b=(0,k.Z)(o().mark(function a(){var b;return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n){a.next=3;break}return D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:"",email:!0})}),a.abrupt("return");case 3:if(x.emailPattern.test(n)){a.next=6;break}return D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:"",email:!0})}),a.abrupt("return");case 6:if(h){a.next=9;break}return D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:"",name:!0})}),a.abrupt("return");case 9:if(z){a.next=12;break}return D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:"",phone:!0})}),a.abrupt("return");case 12:return b=!!H,a.next=15,c({payload:{email:n,phone:z,name:h,isSendCredentials:!!H},callback:function(a){if(a&&a.success)r.Am.success("Registered successfully"),b?(console.log(" WTF! ========================= "),E.push(y.customerCheckout)):E.push(y.login);else{var c=q()(a,"message");c?D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:c})}):D(function(a){return(0,m.Z)((0,l.Z)({},a),{msg:"Error occured please try after sometime"})})}}});case 15:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),J=function(a){switch(a.name){case"email":p(a.value),D(function(b){return(0,m.Z)((0,l.Z)({},b),{email:!a.value})});break;case"name":i(a.value),D(function(b){return(0,m.Z)((0,l.Z)({},b),{name:!a.value})});break;case"phone":A(a.value),D(function(b){return(0,m.Z)((0,l.Z)({},b),{phone:!a.value})})}};return(0,d.jsx)("div",{className:"container m-auto mt-28",children:(0,d.jsxs)("div",{className:"p-10 rounded-xl shadow-md m-auto flex w-6/12 flex-col items-center",children:[H&&(0,d.jsxs)("div",{className:"bg-blue-100 border border-blue-500 rounded-xl text-blue-700 px-4 py-3 mb-5",children:[(0,d.jsx)("p",{className:"font-bold",children:"Please create an account"}),(0,d.jsx)("p",{className:"text-sm",children:"Please create an account to place an order"})]}),(0,d.jsx)("div",{className:"font-medium mb-4 text-2xl",children:"Create an account"}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Name"}),(0,d.jsx)(v.Z,{type:"Name",className:"w-full",onChange:function(a){return J({name:"name",value:a.target.value})},value:h,placeholder:"Name"}),C.name&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Name is required"})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Email"}),(0,d.jsx)(v.Z,{type:"email",className:"w-full",onChange:function(a){return J({name:"email",value:a.target.value})},value:n,placeholder:"Email"}),C.email&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Email is required"})]}),(0,d.jsxs)("div",{className:"mb-2 w-1/2",children:[(0,d.jsx)("label",{className:"font-medium mb-3 text-gray-600",children:"Phone number"}),(0,d.jsx)(v.Z,{type:"number",className:"w-full",onChange:function(a){return J({name:"phone",value:a.target.value})},value:z,placeholder:"Phone number"}),C.phone&&(0,d.jsx)("p",{className:"text-red-600 mt-3",children:"Phone number is required"})]}),(0,d.jsx)(w.Z,{danger:!0,onClick:function(){return I()},className:"w-1/2 mt-4",children:"Register"}),C.msg&&(0,d.jsx)("div",{className:"mt-6 text-red-600",children:C.msg}),(0,d.jsxs)("div",{className:"text-gray-400 mt-6",children:["Already have an account?"," ",(0,d.jsx)(u(),{href:y.login,children:(0,d.jsx)("a",{className:"underline text-red-600 cursor-pointer",children:"click here"})})," ","to login"]})]})})}),C=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g(),{children:(0,d.jsx)("title",{children:"Fireworks"})}),(0,d.jsx)(B,{})]})}},9008:function(a,b,c){a.exports=c(5443)},9534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})}},function(a){a.O(0,[424,774,888,179],function(){var b;return a(a.s=5511)}),_N_E=a.O()}])