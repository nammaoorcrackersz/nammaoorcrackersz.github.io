"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{4993:function(a,b,c){c.d(b,{Z:function(){return q}});var d=c(5893),e=c(7294),f=c(2664),g=c(4655),h=c(1833),i=c(908),j=c(2814),k=c(1436),l=c(1163),m=c(1664),n=c.n(m);function o(a){var b=a.children,c=a.text,f=a.className,g=a.onClick,h=(0,e.useState)(!1),i=h[0],l=h[1];return(0,d.jsxs)("div",{onClick:void 0===g?function(){}:g,className:"relative ".concat(void 0===f?"":f),onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[b,(0,d.jsx)(j.G,{className:"absolute caret ".concat(i?"opacity-1":"invisible opacity-0"),icon:k.Uu6}),(0,d.jsx)("div",{className:" ".concat(i?"opacity-1":"invisible opacity-0"," inline-block absolute z-10 py-2 px-3 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm transition-opacity duration-300 whitespace-nowrap tooltip"),children:c})]})}function p(){var a=(0,f.v9)(function(a){return a.auth.user}).isAdmin,b=(0,l.useRouter)();return(0,d.jsx)("div",{className:"aside",children:a&&(0,d.jsxs)("div",{className:"aside-menu",children:[(0,d.jsx)(o,{className:"aside-menu__item",text:"Sales list",onClick:function(){return b.push(h.adminSalesList)},children:(0,d.jsx)(n(),{href:h.adminSalesList,children:(0,d.jsx)("a",{children:(0,d.jsx)(j.G,{icon:k.Ma4,className:"icon"})})})}),(0,d.jsx)(o,{className:"aside-menu__item",text:"Purchase list",onClick:function(){return b.push(h.adminPurchaseList)},children:(0,d.jsx)(n(),{href:h.adminPurchaseList,children:(0,d.jsx)("a",{children:(0,d.jsx)(j.G,{icon:k.FL8,className:"icon"})})})}),(0,d.jsx)(o,{className:"aside-menu__item",text:"Product list",onClick:function(){return b.push(h.adminProductList)},children:(0,d.jsx)(n(),{href:h.adminProductList,children:(0,d.jsx)("a",{children:(0,d.jsx)(j.G,{icon:k.hVM,className:"icon"})})})}),(0,d.jsx)(o,{className:"aside-menu__item",text:"Customer list",onClick:function(){return b.push(h.adminCustomerList)},children:(0,d.jsx)(n(),{href:h.adminCustomerList,children:(0,d.jsx)("a",{children:(0,d.jsx)(j.G,{icon:k.ILF,className:"icon"})})})})]})})}var q=function(a){var b=a.children,c=(0,f.v9)(function(a){return a.auth.user}),h=(0,f.I0)();return((0,e.useEffect)(function(){var a=localStorage.getItem("app-token");a?h((0,g.M_)()):a||h((0,g.av)({}))},[]),null===c)?(0,d.jsx)(d.Fragment,{children:"loading..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z,{}),(0,d.jsx)("div",{className:"",children:(0,d.jsx)(p,{})}),(0,d.jsx)("div",{className:"global-nav-wrapper",children:(0,d.jsx)(d.Fragment,{children:b})})]})}},3664:function(a,b,c){c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md w-24 focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},908:function(a,b,c){c.d(b,{Z:function(){return q}});var d=c(5893),e=c(7294),f=c(2664),g=c(1163),h=c(1664),i=c.n(h),j=c(2814),k=c(1436),l=c(7361),m=c.n(l),n=c(4655),o=c(1833),p=function(a){var b=a.count,c=a.onClick,e=void 0===c?function(){}:c;return(0,d.jsxs)("div",{onClick:function(){return e()},className:"text-red-600 cursor-pointer mr-6 pt-1 flex items-center",children:[(0,d.jsx)(j.G,{icon:k.yYj,className:"text-2xl mr-2"}),(0,d.jsxs)("div",{children:["My Cart (",b,")"]})]})};function q(){var a=(0,f.v9)(function(a){return a.auth.user}),b=m()(a,"isAdmin",!1),c=(0,f.I0)(),h=(0,g.useRouter)(),l=(0,f.v9)(function(a){return a.app.companyName}),q=(0,f.v9)(function(a){return a.app.selectedProducts}),r=(0,e.useState)(!1),s=r[0],t=r[1],u=(0,e.useRef)(),v=(0,e.useMemo)(function(){var a=0;return Array.isArray(q)&&q.forEach(function(b){a+=b.qty}),a},[q]),w=a.email,x=a.name,y=!!h.pathname.includes("/admin");!function(a,b){var c=(0,e.useRef)(b);b&&(c.current=b);var d=function(b){c.current&& !c.current.contains(b.target)&&a&&a()};(0,e.useEffect)(function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}},[])}(function(){return t(!1)},u.current);var z=function(){c((0,n.kS)(function(){h.push(o.login)}))},A=function(){h.push(o.customerCheckout)};return(0,d.jsxs)("nav",{className:"nav-bar fixed w-full",children:[!y&&(0,d.jsxs)("div",{className:"nav-bar__company container mx-auto flex justify-center bg-white items-center relative",children:[(0,d.jsx)("div",{className:"text-4xl text-red-600 py-4",children:"Fireworks"}),(0,d.jsx)("div",{className:"absolute cart-icon",children:(0,d.jsx)(p,{onClick:A,count:v})})]}),(0,d.jsx)("div",{className:"nav-bar__container border ".concat(y?"bg-white border-gray-200":"customer-nav"," px-2 sm:px-4 py-2.5"),children:(0,d.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)(i(),{href:"/",children:(0,d.jsx)("a",{className:"self-center text-xl font-semibold whitespace-nowrap ",children:l})})}),(0,d.jsxs)("div",{ref:u,className:"flex items-center md:order-2",children:[w?(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"text-xl text-white font-bold mr-5",children:x}),(0,d.jsx)("div",{onClick:function(){return t(function(a){return!a})},className:"cursor-pointer text-xl",children:(0,d.jsx)(j.G,{icon:k.ILF})})]}):(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(i(),{href:o.login,children:(0,d.jsx)("a",{className:"font-semibold cursor-pointer mr-3 border-r ".concat(y?"border-gray-500":"border-white"," pr-4"),children:"Login"})}),(0,d.jsx)(i(),{href:o.register,children:(0,d.jsx)("a",{className:"font-semibold cursor-pointer",children:"Register"})})]}),(0,d.jsxs)("div",{className:"".concat(s?"nav-bar__active":"hidden"," ").concat(y?"":"nav-bar__customer_active"," z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow "),children:[(0,d.jsx)("div",{className:"py-3 px-4",children:(0,d.jsx)("span",{className:"block text-sm font-medium text-gray-500 truncate ",children:x})}),(0,d.jsxs)("ul",{className:"py-1","aria-labelledby":"dropdown",children:[b&&(0,d.jsx)("li",{children:(0,d.jsx)(i(),{href:o.adminSalesList,children:(0,d.jsx)("a",{className:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100",children:"Sales"})})}),(0,d.jsx)("li",{children:(0,d.jsx)("div",{className:"block py-2 px-4 text-sm text-red-700 hover:bg-red-100 cursor-pointer",onClick:z,children:"Sign out"})})]})]})]}),(0,d.jsx)("div",{className:"hidden justify-between items-center w-full md:flex md:w-auto md:order-1",id:"mobile-menu-2",children:(0,d.jsx)("ul",{className:"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"})})]})})]})}},1833:function(a){a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout"}}}])