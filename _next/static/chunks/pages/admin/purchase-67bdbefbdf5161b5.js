(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{9796:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/purchase",function(){return c(116)}])},116:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return s}});var d=c(5893),e=c(7294),f=c(2664),g=c(4e3),h=c(1163),i=c(2814),j=c(1436),k=c(3664),l=c(4750),m=c(7701),n=c(1833);function o(a){var b=function(){a.clicked(a.value)};return(0,d.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed w-fit px-3",onClick:b,children:"open"})}var p=function(a){var b=a.purchaseList,c=a.total,f=a.fetchPurchase,l=a.fetchPurchaseCount,p=(0,e.useRef)(),q=(0,h.useRouter)(),r=(0,e.useState)(1),s=r[0],t=r[1],u=(0,e.useMemo)(function(){return Math.ceil(c/m.pageSize)},[c]),v=(0,e.useCallback)(function(){},[]);(0,e.useEffect)(function(){f({payload:{isNext:!0}}),l()},[]),(0,e.useEffect)(function(){return function(){t(1)}},[]);var w=function(){q.push(n.adminAddPurchase)},x=function(){b&&!(b.length<=0)&&!(s<=1)&&!(u<=1)&&(f({payload:{cursor:b[0].id,isNext:!1}}),t(function(a){return a-1}))},y=function(){b&&!(b.length<=0)&&!(s>=u)&&!(u<=1)&&(f({payload:{cursor:b[b.length-1].id,isNext:!0}}),t(function(a){return a+1}))};return(0,d.jsxs)("div",{className:"p-6 h-full",children:[(0,d.jsxs)("div",{className:"flex justify-start mb-3 flex-wrap",children:[(0,d.jsx)("div",{className:"text-lg font-bold mb-3",children:"Purchase list"}),(0,d.jsxs)(k.Z,{onClick:w,className:"flex items-center justify-center ml-0 md:ml-5 w-fit px-3 mt-2 md:mt-0",children:[(0,d.jsx)(i.G,{icon:j.r8p}),(0,d.jsx)("span",{className:"inline-block ml-3",children:"Add purchase"})]})]}),(0,d.jsx)("div",{className:"ag-theme-alpine w-full",style:{height:"75vh"},children:(0,d.jsx)(g.AgGridReact,{ref:p,rowData:b,columnDefs:[{field:"id",headerName:"Order id",resizable:!0},{field:"supplier",headerName:"Supplier",resizable:!0},{field:"date",headerName:"Date",resizable:!0},{field:"invoice_net_amt",headerName:"Bill amount",resizable:!0},{field:"package_charges",headerName:"Package charges",resizable:!0},{field:"total_discount",headerName:"Discount Percent",resizable:!0},{field:"discount_amount",headerName:"Discount Amount",resizable:!0},{field:"id",headerName:"Action",cellRenderer:"btnCellRenderer",cellRendererParams:{clicked:function(a){q.push("".concat(n.adminEditPurchase).concat(a))}},minWidth:150}],defaultColDef:{sortable:!1},animateRows:!0,rowSelection:!1,onCellClicked:v,components:{btnCellRenderer:o}})}),(0,d.jsxs)("div",{className:"flex justify-between mt-3",children:[(0,d.jsxs)("div",{onClick:x,className:"flex cursor-pointer items-center text-secondary hover:text-primary",children:[(0,d.jsx)(i.G,{icon:j.Uu6,className:"icon"}),(0,d.jsx)("span",{className:"inline-block ml-4",children:"Previous"})]}),(0,d.jsxs)("div",{onClick:y,className:"flex cursor-pointer items-center text-secondary hover:text-primary",children:[(0,d.jsx)("span",{className:"inline-block mr-3",children:"Next"}),(0,d.jsx)(i.G,{icon:j.I4f,className:"icon"})]})]})]})},q=function(){var a=(0,f.v9)(function(a){return a.bills.purchaseList}),b=(0,f.v9)(function(a){return a.bills.totalPurchaseCount}),c=(0,f.I0)();return(0,d.jsx)(p,{purchaseList:a,total:b,fetchPurchase:function(a){return c((0,l.rX)(a))},fetchPurchaseCount:function(a){return c((0,l.CR)(a))}})},r=c(4993),s=function(){return(0,d.jsx)(r.Z,{children:(0,d.jsx)(q,{})})}}},function(a){a.O(0,[774,523,153,424,814,236,803,888,179],function(){var b;return a(a.s=9796)}),_N_E=a.O()}])