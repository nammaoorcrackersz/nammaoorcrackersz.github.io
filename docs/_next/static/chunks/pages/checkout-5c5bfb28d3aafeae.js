(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{5248:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return c(9592)}])},3664:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(6042),e=c(9396),f=c(9534),g=c(5893);function h(a){var b=a.type,c=void 0===b?"button":b,h=a.className,i=void 0===h?"":h,j=a.children,k=a.secondary,l=a.danger,m=(0,f.Z)(a,["type","className","children","secondary","danger"]);return void 0!==l&&l?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-white hover:bg-red-700 focus:outline-none ".concat(i)},m),{children:j})):void 0!==k&&k?(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"w-24 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none ".concat(i)},m),{children:j})):(0,g.jsx)("button",(0,e.Z)((0,d.Z)({type:c,className:"p-2 bg-blue-500 hover:bg-blue-700 rounded-md text-white shadow-md w-24 focus:outline-none disabled:bg-gray-600 disabled:cursor-not-allowed ".concat(i)},m),{children:j}))}c(7294)},3193:function(a,b,c){"use strict";c.d(b,{Z:function(){return g}});var d=c(5893);c(7294);var e=c(2814),f=c(1436);function g(){return(0,d.jsxs)("div",{className:"footer flex flex-col md:flex-row justify-between",children:[(0,d.jsx)("div",{className:"font-bold text-2xl mb-7",children:"Fireworks"}),(0,d.jsxs)("div",{className:"flex flex-col mb-7",children:[(0,d.jsx)("div",{className:"font-semibold text-xl mb-3",children:"Signup for Updates"}),(0,d.jsx)("div",{className:"text-xl",children:"Get notified for Price Changes"})]}),(0,d.jsxs)("div",{className:"flex flex-col mb-7",children:[(0,d.jsx)("div",{className:"font-semibold text-xl mb-3",children:"Contact us"}),(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[(0,d.jsx)(e.G,{icon:f.FU$,className:"icon mr-3"}),(0,d.jsx)("div",{children:"support@crackers.com"})]}),(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[(0,d.jsx)(e.G,{icon:f.j1w,className:"icon mr-3"}),(0,d.jsx)("div",{children:"+91 - 7292660621 "})]})]})]})}},9819:function(a,b,c){"use strict";var d=c(6042),e=c(9534),f=c(5893),g=c(7294).forwardRef(function(a,b){var c=a.className,g=a.type,h=(0,e.Z)(a,["className","type"]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",(0,d.Z)({ref:b,type:void 0===g?"text":g,className:"".concat(void 0===c?"":c," rounded-md border-2 p-2 border-gray-300 focus-visible:border-blue-300 focus:border-blue-300 border-solid text-base transition-fast")},h))})});g.displayName="Input",b.Z=g},3665:function(a,b,c){"use strict";var d=c(5893);c(7294);var e=c(2814),f=c(1436),g=function(a){var b=a.value,c=a.onChange,g=b||1,h=function(){b>1&&c(--b)};return(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("button",{onClick:function(){return h()},className:"w-10 text-center bg-red-500 hover:bg-red-700 text-white focus:outline-none rounded-tl-md rounded-bl-md text-lg font-bold",children:(0,d.jsx)(e.G,{icon:f.Kl4})}),(0,d.jsx)("input",{onChange:function(a){return c(a.target.value)},className:"w-10 text-center border-2 p-2 border-gray-300 focus-visible:border-red-300 focus:border-red-300 border-solid text-base transition-fast",value:g}),(0,d.jsx)("button",{onClick:function(){return c(++b)},className:"w-10 text-center bg-red-500 hover:bg-red-700 text-white focus:outline-none rounded-tr-md rounded-br-md text-lg font-bold",children:(0,d.jsx)(e.G,{icon:f.r8p})})]})};b.Z=g},908:function(a,b,c){"use strict";c.d(b,{Z:function(){return q}});var d=c(5893),e=c(7294),f=c(2664),g=c(1163),h=c(1664),i=c.n(h),j=c(2814),k=c(1436),l=c(7361),m=c.n(l),n=c(4655),o=c(1833),p=function(a){var b=a.count,c=a.onClick,e=void 0===c?function(){}:c;return(0,d.jsxs)("div",{onClick:function(){return e()},className:"text-red-600 cursor-pointer mr-6 pt-1 flex items-center",children:[(0,d.jsx)(j.G,{icon:k.yYj,className:"text-2xl mr-2"}),(0,d.jsxs)("div",{children:["My Cart (",b,")"]})]})};function q(){var a=(0,f.v9)(function(a){return a.auth.user}),b=m()(a,"isAdmin",!1),c=(0,f.I0)(),h=(0,g.useRouter)(),l=(0,f.v9)(function(a){return a.app.companyName}),q=(0,f.v9)(function(a){return a.app.selectedProducts}),r=(0,e.useState)(!1),s=r[0],t=r[1],u=(0,e.useRef)(),v=(0,e.useMemo)(function(){var a=0;return Array.isArray(q)&&q.forEach(function(b){a+=b.qty}),a},[q]),w=a.email,x=a.name,y=!!h.pathname.includes("/admin");!function(a,b){var c=(0,e.useRef)(b);b&&(c.current=b);var d=function(b){c.current&& !c.current.contains(b.target)&&a&&a()};(0,e.useEffect)(function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}},[])}(function(){return t(!1)},u.current);var z=function(){c((0,n.kS)(function(){h.push(o.login)}))},A=function(){h.push(o.customerCheckout)};return(0,d.jsxs)("nav",{className:"nav-bar fixed w-full",children:[!y&&(0,d.jsxs)("div",{className:"nav-bar__company container mx-auto flex justify-center bg-white items-center relative",children:[(0,d.jsx)("div",{className:"text-4xl text-red-600 py-4",children:"Fireworks"}),(0,d.jsx)("div",{className:"absolute cart-icon",children:(0,d.jsx)(p,{onClick:A,count:v})})]}),(0,d.jsx)("div",{className:"nav-bar__container border ".concat(y?"bg-white border-gray-200":"customer-nav"," px-2 sm:px-4 py-2.5"),children:(0,d.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)(i(),{href:"/",children:(0,d.jsx)("a",{className:"self-center text-xl font-semibold whitespace-nowrap ",children:l})})}),(0,d.jsxs)("div",{ref:u,className:"flex items-center md:order-2",children:[w?(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"text-xl text-white font-bold mr-5",children:x}),(0,d.jsx)("div",{onClick:function(){return t(function(a){return!a})},className:"cursor-pointer text-xl",children:(0,d.jsx)(j.G,{icon:k.ILF})})]}):(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(i(),{href:o.login,children:(0,d.jsx)("a",{className:"font-semibold cursor-pointer mr-3 border-r ".concat(y?"border-gray-500":"border-white"," pr-4"),children:"Login"})}),(0,d.jsx)(i(),{href:o.register,children:(0,d.jsx)("a",{className:"font-semibold cursor-pointer",children:"Register"})})]}),(0,d.jsxs)("div",{className:"".concat(s?"nav-bar__active":"hidden"," ").concat(b?"":"nav-bar__customer_active"," z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow "),children:[(0,d.jsx)("div",{className:"py-3 px-4",children:(0,d.jsx)("span",{className:"block text-sm font-medium text-gray-500 truncate ",children:x})}),(0,d.jsxs)("ul",{className:"py-1","aria-labelledby":"dropdown",children:[b&&(0,d.jsx)("li",{children:(0,d.jsx)(i(),{href:o.adminSalesList,children:(0,d.jsx)("a",{className:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100",children:"Sales"})})}),(0,d.jsx)("li",{children:(0,d.jsx)("div",{className:"block py-2 px-4 text-sm text-red-700 hover:bg-red-100 cursor-pointer",onClick:z,children:"Sign out"})})]})]})]}),(0,d.jsx)("div",{className:"hidden justify-between items-center w-full md:flex md:w-auto md:order-1",id:"mobile-menu-2",children:(0,d.jsx)("ul",{className:"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"})})]})})]})}},1833:function(a){"use strict";a.exports={login:"/login",dashboard:"/",register:"/register",adminSalesList:"/admin/sales",adminAddSales:"/admin/sales/add",adminEditSales:"/admin/sales/edit",adminPurchaseList:"/admin/purchase",adminAddPurchase:"/admin/purchase/add",adminEditPurchase:"/admin/purchase/edit",adminProductList:"/admin/product",adminAddProduct:"/admin/product/add",adminEditProduct:"/admin/product/edit",adminEditCustomer:"/admin/customer/edit",adminCustomerList:"/admin/customer",adminAddCustomer:"/admin/customer/add",customerCheckout:"/checkout"}},9592:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return A}});var d=c(5893),e=c(7294),f=c(9008),g=c.n(f),h=c(4924),i=c(6042),j=c(9396),k=c(2814),l=c(1436),m=c(2664),n=c(1163),o=c(7361),p=c.n(o),q=c(908),r=c(3665),s=c(3664),t=c(9819),u=c(3193),v=c(2699),w=c(1833),x=c(2920);function y(a){var b=a.products,c=void 0===b?[]:b,f=a.removeProductFromCart,g=a.onProductQtyChange,m=a.isLoggedIn,o=a.isAdmin,p=a.placeOrder,v=(0,n.useRouter)(),y=(0,e.useState)(),z=y[0],A=y[1],B=(0,e.useState)(),C=B[0],D=B[1],E=(0,e.useState)(),F=E[0],G=E[1],H=(0,e.useState)(),I=H[0],J=H[1],K=(0,e.useState)(),L=K[0],M=K[1],N=(0,e.useState)(!1),O=N[0],P=N[1],Q=(0,e.useState)({}),R=Q[0],S=Q[1],T=(0,e.useMemo)(function(){var a=0,b=0;return c.forEach(function(c){var d=c.rate*c.qty,e=Math.ceil(d*c.discount/100);d-=e,d=d>0?d:0,a+=d,b+=d}),{subTotal:a,total:b}},[c]),U=T.subTotal,V=T.total,W=function(a){g(a)},X=function(){v.push("/")},Y=function(a){f(a)},Z=function(){if(m){if(o){x.Am.warn("Admin cannot place order!");return}if(c.length<=0){x.Am.warn("Please select items to purchase");return}if(!z){S(function(a){return(0,j.Z)((0,i.Z)({},a),{address1:!0})});return}if(!C){S(function(a){return(0,j.Z)((0,i.Z)({},a),{address2:!0})});return}if(!F){S(function(a){return(0,j.Z)((0,i.Z)({},a),{state:!0})});return}if(!I){S(function(a){return(0,j.Z)((0,i.Z)({},a),{city:!0})});return}if(!L||L&&(L+"").length>6){S(function(a){return(0,j.Z)((0,i.Z)({},a),{pincode:!0})}),x.Am.warn("Incorrect pincode");return}p({address:{address1:z,address2:C,pincode:L,state:F,city:I},orderDetails:c.map(function(a){return{id:a.id,qty:a.qty,rate:a.rate?a.rate:0}}),callback:function(a){a.success?(P(!0),x.Am.success("Successfully placed order")):x.Am.error("Something went wrong, please try after some time")}})}else v.push({pathname:w.register,query:{redirect:"checkout"}})},$=function(a){var b=a.target,c=b.value,d=b.name;switch(d){case"address1":A(c);break;case"address2":D(c);break;case"state":G(c);break;case"city":J(c);break;case"pincode":M(c)}S(function(a){return(0,j.Z)((0,i.Z)({},a),(0,h.Z)({},d,!c))})};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"checkout",children:[(0,d.jsx)(q.Z,{}),O?(0,d.jsx)("div",{className:"container mx-auto checkout_container",children:(0,d.jsxs)("div",{className:"border border-red-400 rounded-2xl p-2 my-2 h-52 flex flex-col justify-center items-center w-full mt-44",children:[(0,d.jsx)("div",{className:"",children:(0,d.jsx)(k.G,{icon:l.f8k,className:"mr-2 text-green-500 text-6xl mb-5"})}),(0,d.jsx)("div",{className:"font-semibold text-xl",children:"Order placed successfully!"})]})}):(0,d.jsxs)("div",{className:"container mx-auto checkout_container",children:[(0,d.jsx)("div",{className:"checkout_title text-2xl font-bold text-black",children:"Checkout:"}),(0,d.jsxs)("div",{className:"w-full flex",children:[(0,d.jsxs)("div",{className:"w-3/4",children:[(0,d.jsxs)("div",{className:"my-2 p-2 border border-red-400 rounded-2xl",children:[(0,d.jsx)("div",{className:"text-xl font-medium",children:"Shipping address:"}),(0,d.jsxs)("div",{className:"flex justify-start flex-wrap",children:[(0,d.jsxs)("div",{className:"mb-2 form-ctrl pr-5",children:[(0,d.jsx)("label",{htmlFor:"address1",className:"font-medium mb-1 text-gray-600",children:"Address 1"}),(0,d.jsx)(t.Z,{type:"text",name:"address1",id:"address1",className:"w-full",onChange:$,value:z,placeholder:"Address 1"}),R.address1&&(0,d.jsx)("p",{className:"text-red-600",children:"Address 1 is required"})]}),(0,d.jsxs)("div",{className:"mb-2 form-ctrl pr-5",children:[(0,d.jsx)("label",{htmlFor:"address2",className:"font-medium mb-1 text-gray-600",children:"Address 2"}),(0,d.jsx)(t.Z,{type:"text",name:"address2",id:"address2",className:"w-full",onChange:$,value:C,placeholder:"Address 2"}),R.address2&&(0,d.jsx)("p",{className:"text-red-600",children:"Address 2 is required"})]}),(0,d.jsxs)("div",{className:"mb-2 form-ctrl pr-5",children:[(0,d.jsx)("label",{htmlFor:"state",className:"font-medium mb-1 text-gray-600",children:"State"}),(0,d.jsx)(t.Z,{type:"text",name:"state",id:"state",className:"w-full",onChange:$,value:F,placeholder:"State"}),R.state&&(0,d.jsx)("p",{className:"text-red-600",children:"State is required"})]}),(0,d.jsxs)("div",{className:"mb-2 form-ctrl pr-5",children:[(0,d.jsx)("label",{htmlFor:"city",className:"font-medium mb-1 text-gray-600",children:"City"}),(0,d.jsx)(t.Z,{type:"text",name:"city",id:"city",className:"w-full",onChange:$,value:I,placeholder:"City"}),R.city&&(0,d.jsx)("p",{className:"text-red-600",children:"City is required"})]}),(0,d.jsxs)("div",{className:"mb-2 form-ctrl pr-5",children:[(0,d.jsx)("label",{htmlFor:"pincode",className:"font-medium mb-1 text-gray-600",children:"Pincode"}),(0,d.jsx)(t.Z,{type:"number",name:"pincode",id:"pincode",className:"w-28",onChange:$,value:L,placeholder:"Pincode"}),R.pincode&&(0,d.jsx)("p",{className:"text-red-600",children:"Enter a valid pincode"})]})]})]}),(0,d.jsx)("div",{className:"text-xl font-medium mt-3",children:"Shopping cart:"}),c.length>0?(0,d.jsx)("div",{className:"checkout_list",children:c.map(function(a){var b=a.image_url,c=a.name,e=a.rate,f=a.id,g=a.qty,h=a.category;return(0,d.jsxs)("div",{className:"checkout_item",children:[b&&(0,d.jsxs)("div",{className:"product-item",children:[" ",(0,d.jsx)("img",{src:b,className:"preview-image"})]}),(0,d.jsx)("div",{className:"product-item",children:c}),(0,d.jsx)("div",{className:"product-item",children:h}),(0,d.jsxs)("div",{className:"product-item",children:[e?(0,d.jsx)(d.Fragment,{children:"₹"}):""," ",e]}),(0,d.jsx)("div",{className:"product-item",children:(0,d.jsx)(r.Z,{value:g,onChange:function(a){return W({id:f,value:a})}})}),(0,d.jsx)("div",{className:"product-item ml-auto",children:(0,d.jsxs)(s.Z,{onClick:function(){return Y(f)},danger:!0,className:"flex items-center w-fit",children:[(0,d.jsx)(k.G,{icon:l.$aW,className:"mr-2"}),(0,d.jsx)("div",{children:"Remove"})]})})]},f)})}):(0,d.jsx)("div",{className:"checkout_list",children:(0,d.jsx)("div",{className:"border border-red-400 rounded-2xl p-2 my-2 h-52 flex justify-center items-center w-full",children:(0,d.jsx)("div",{className:"font-semibold text-xl",children:"You cart is empty"})})}),(0,d.jsxs)(s.Z,{onClick:X,danger:!0,className:"flex items-center w-fit mt-9 mb-6",children:[(0,d.jsx)(k.G,{icon:l.acZ,className:"mr-2"}),(0,d.jsx)("div",{children:"Continue shopping"})]})]}),(0,d.jsx)("div",{className:"w-1/4",children:(0,d.jsxs)("div",{className:"checkout_calculation",children:[(0,d.jsx)("div",{className:"text-black border-b-2 font-semibold text-xl pb-2",children:"Shopping Cart Total"}),(0,d.jsxs)("div",{className:"flex justify-between my-2",children:[(0,d.jsx)("div",{className:"text-md",children:"Sub total"}),(0,d.jsx)("div",{className:"text-md",children:U})]}),(0,d.jsxs)("div",{className:"flex justify-between my-2",children:[(0,d.jsx)("div",{className:"text-md",children:"Grand total"}),(0,d.jsx)("div",{className:"text-md",children:V})]}),(0,d.jsx)("div",{className:"flex justify-end mb-2 mt-5",children:(0,d.jsxs)(s.Z,{onClick:function(){return Z()},danger:!0,className:"flex items-center w-fit",children:[(0,d.jsx)(k.G,{icon:l.LEp,className:"mr-2"}),(0,d.jsx)("div",{children:"Place order"})]})})]})})]})]}),(0,d.jsx)("div",{className:"border-t-2 bg-gray-800",children:(0,d.jsx)("div",{className:"container mx-auto py-10",children:(0,d.jsx)(u.Z,{})})})]})})}function z(){var a=(0,m.v9)(function(a){return a.auth.user}),b=p()(a,"isAdmin",!1),c=(0,m.v9)(function(a){return a.app.selectedProducts}),e=(0,m.I0)();return(0,d.jsx)(y,{products:c,isAdmin:b,isLoggedIn:!!a&&!!a.email,removeProductFromCart:function(a){return e((0,v.Cn)(a))},onProductQtyChange:function(a){return e((0,v.Wp)(a))},placeOrder:function(a){return e((0,v.cQ)(a))}})}function A(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g(),{children:(0,d.jsx)("title",{children:"Fireworks"})}),(0,d.jsx)(z,{}),";"]})}},9008:function(a,b,c){a.exports=c(5443)},9534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})}},function(a){a.O(0,[523,424,814,774,888,179],function(){var b;return a(a.s=5248)}),_N_E=a.O()}])